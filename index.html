<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Libvot by hlzz</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Libvot</h1>
        <p class="header">A C++11 multithread library for image retrieval</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/hlzz/libvot/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/hlzz/libvot/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/hlzz/libvot">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/hlzz">hlzz</a></p>


      </header>
      <section>
        <h1>
<a id="libvot---a-c11-multi-thread-library-for-image-retrieval" class="anchor" href="#libvot---a-c11-multi-thread-library-for-image-retrieval" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>libvot - A C++11 multi-thread library for image retrieval</h1>

<p><a href="https://gitter.im/hlzz/libvot?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/hlzz/libvot.svg" alt="Join the chat at https://gitter.im/hlzz/libvot"></a>
<a href="https://travis-ci.org/hlzz/libvot"><img src="https://travis-ci.org/hlzz/libvot.svg?branch=master" alt="Build Status"></a> 
<a href="https://travis-ci.org/hlzz/libvot"><img src="https://travis-ci.org/hlzz/libvot.svg?branch=feature" alt="Build Status"></a> 
<a href="LICENSE"><img src="https://img.shields.io/badge/license-BSD-blue.svg" alt="License"></a>
<a href="https://scan.coverity.com/projects/hlzz-libvot"
  <img alt="Coverity Scan Build Status" src="https://scan.coverity.com/projects/8983/badge.svg">
</a>
<a href="https://todofy.org/r/hlzz/libvot/master"><img src="https://todofy.org/b/hlzz/libvot/master" alt="todofy badge"></a></p>

<h3>
<a id="中文简介" class="anchor" href="#%E4%B8%AD%E6%96%87%E7%AE%80%E4%BB%8B" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><a href="https://github.com/hlzz/libvot/blob/master/doc/README_Chinese.md">中文简介</a>
</h3>

<h2>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Introduction</h2>

<p><em>libvot</em> is a fast implementation of vocabulary tree, which is an algorithm widely used in image retrieval and computer vision. It usually comprises three components to build a image retrieval system using vocabulary tree: build a k-means tree using sift descriptors from images, register images into the database, query images against the database. In this library, we use C++11 standard multi-thread library to accelerate the computation, which achieves fast and accurate image retrieval performance. Currently this library is under active development for research purpose. If you find this repository useful, please star it to let me know. :)</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>The build system of libvot is based on <a href="http://cmake.org">CMake</a>. To take full advantages of the new features in C++11, we require the version of CMake to be 2.8.12 or above. Current we have tested our project under Linux (Ubuntu 14.04, CentOS 7) and MacOS (10.10) using gcc. The common steps to build the library are:</p>

<ol>
<li>Extract source files.</li>
<li>Create build directory and change to it.</li>
<li>Run CMake to configure the build tree.</li>
<li>Build the software using selected build tool.</li>
<li>Run "make test"</li>
<li>See src/example for the usage of this library.</li>
</ol>

<p>On Unix-like systems with GNU Make as the build tool, the following sequence of commands can be used to compile the source code.</p>

<pre><code>$ cd libvot
$ git submodule init &amp; git submodule update  
$ mkdir build &amp;&amp; cd build
$ cmake ..
$ make &amp;&amp; make test
</code></pre>

<p>Optional dependencies include <em>OpenCV</em>, but it is not required to run the core functions in <em>libvot</em>.</p>

<h2>
<a id="first-try" class="anchor" href="#first-try" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>First try</h2>

<p>Suppose <code>$LIBVOT_ROOT</code> represents the root directory of libvot, and it is successfully compiled in <code>build</code> subdirectory. You can use <code>./libvot_feature &lt;image_list&gt;</code> to first generate a set of descriptor files and use them as inputs to <code>image_search</code>. For example, you have some target .jpg image files to generate sift files. Just <code>cd</code> into that directory, prepare the <code>image_list</code>, and generate sift files in the same directory as the image files:</p>

<pre><code>$ ls -d $PWD/*.jpg &gt; image_list
$ $LIBVOT_ROOT/build/bin/libvot_feature &lt;image_list&gt;
</code></pre>

<p>Then you can run <em>image_search</em> in src/example to generate the image retrieval results
The usage is simply “./image_search   [depth] [branch_num] [sift_type] [num_matches] [thread_num]”. 
We add a small image dataset <a href="http://cvlabwww.epfl.ch/data/multiview/denseMVS.html">fountain-P11</a> to illustrate this process. 
<em>test_data/fountain_dense</em> folder contains the sift files generated by <code>libvot_feature</code>, while the original images are not included in order to save space. 
If you use the out-of-source build as shown in the installation section and in the <em>build</em> directory, 
the following command should work smoothly and generate several output files in <code>build/bin/vocab_out</code> directory (you need to change the prefix of filepaths in <code>test_data/fountain_dense/sift_list</code>).</p>

<pre><code>$ cd bin
$ ./image_search &lt;sift_list&gt; &lt;output_folder&gt; [depth] [branch_num] [sift_type] [num_matches] [thread_num]  
$ (e.g.) ./image_search ../../test_data/fountain_dense/sift_list ./vocab_out
</code></pre>

<p>Each line in <em>match.out</em> contains three numbers “first_index second_index similarity score”. 
Since the library is multi-threaded, the rank is unordered with respect to the first index (they are ordered w.r.t the second index). 
<em>match_pairs</em> saves the ordered similarity ranks, from <em>0</em>th image to <em>n-1</em>th image. Besides, libvot also supports sift files generated by <a href="https://github.com/openMVG/openMVG/">openMVG</a>.</p>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Documentation</h2>

<p>The <a href="http://hlzz.github.io/libvot/">homepage</a> of libvot is hosted by github-pages. See the documentation <a href="http://hlzz.github.io/libvot/doc/html/index.html">here</a>.</p>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contributing</h2>

<p>We are working toward the next major release (0.2.0). 
If you are interested in contributing, please have a look at <a href="https://github.com/hlzz/libvot/blob/master/Roadmap.md">Roadmap.md</a>. 
All types of contributions, including documentation, testing, and new features are welcomed and appreciated.</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>The BSD 3-Clause License</p>

<h2>
<a id="contact-and-donation" class="anchor" href="#contact-and-donation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contact and Donation</h2>

<p>For inquiries and suggestions, please send your emails to <a href="mailto:tshenaa@ust.hk">tshenaa@ust.hk</a>.</p>

<p>If you would like to support this project, you can contribute to this project, or make a donation via <a href="https://pledgie.com/campaigns/30901">pledgie</a>. Thanks</p>

<p><a href="https://pledgie.com/campaigns/30901"><img alt="Click here to lend your support to: Open-Source Image Retrieval Project and make a donation at pledgie.com !" src="https://pledgie.com/campaigns/30901.png?skin_name=chrome" border="0"></a></p>
      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
